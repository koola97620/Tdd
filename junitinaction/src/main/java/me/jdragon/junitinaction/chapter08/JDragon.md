# 08 In-Container 테스트

컨테이너가 런타임에 객체를 생성 관리하는 한, 표준 JUnit 기법만으론 이들 객체를 테스트 할 수 없다

## 8.2 목 객체를 이용한 해법


## 8.4 스텁, 목 객체, In-Container 테스트 비교하기

### 8.4.1 스텁의 장단점

- 스텁은 주어진 대상 클래스를 격리 시킨다
- 목은 서버의 상태와 동작을 테스트 할 수 있다, 목 객체를 이용할 때 기대를 작성하고 검증을 수행한다
- 목은 테스트가 도메인 메서드의 호출 여부, 호출 횟수를 파악할 수 있다

스텁의 장점
- 빠르고 가볍다
- 만들고 이해하기 쉽다
- 강력하다
- 큰 단위의 테스트다

스텁의 단점
- 상태를 검증하려면 전용 메서드를 구현해야 한다
- 흉내 내는 객체의 동작은 테스트하지 못한다
- 복잡한 상호작용을 테스트하려면 많은 노력이 필요하다
- 코드 변경시 유지보수 비용이 크다

목의 장점
- 컨테이너 없이도 테스트를 수행할 수 있다

목의 단점
- 대상 객체가 실제 배포될 컨테이너 내에서 동작하는것이 아니다
- 따라서 테스트만으로는 컴포넌트와 컨테이너 간 상호작용을 확인할 수 없다
- 또한 컨테이너 안에서 이루어지는 컴포넌트 간 상호작용도 테스트 불가

